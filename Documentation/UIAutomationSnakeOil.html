<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.4.1  (Win32)">
	<META NAME="CREATED" CONTENT="20130406;12532168">
	<META NAME="CHANGED" CONTENT="20130406;12535778">
	<STYLE TYPE="text/css">
	<!--
		H2.cjk { font-family: "SimSun" }
		H2.ctl { font-family: "Mangal" }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-AU" DIR="LTR">
<H2 LANG="en-GB" CLASS="western">UI Test Automation Tools are Snake
Oil 
</H2>
<DIV ID="article-9036" DIR="LTR">
	<P LANG="en-GB">Posted by <CITE>Michael Feathers</CITE> on Monday, 4
	January 2010 
	</P>
	<P LANG="en-GB">It happens over and over again. I visit a team and I
	ask about their testing situation. We talk about unit tests,
	exploratory testing, the works. Then, I ask about automated
	end-to-end testing and they point at a machine in the corner. That
	poor machine has an installation of some highly-priced per seat
	testing tool (or an open source one, it doesn&rsquo;t matter), and
	the chair in front of it is empty. We walk over, sweep the dust away
	from the keyboard, and load up the tool. Then, we glance through
	their set of test scripts and try to run them. The system falls over
	a couple of times and then they give me that sheepish grin and say
	&ldquo;we tried.&rdquo; I say, &ldquo;don&rsquo;t worry, everyone
	does.&rdquo; 
	</P>
	<P LANG="en-GB">It&rsquo;s a very familiar &lsquo;rabbit hole&rsquo;
	in the industry. It&rsquo;s sort of like the old days when you&rsquo;d
	find a couple of classes generated by a CASE tool in every code base
	you visited if you looked hard enough. People started with the merry
	notion that they were going to round-trip code with some CASE tool
	and they learned (like most lucky teams do) that it just doesn&rsquo;t
	pay for itself, it&rsquo;s not worth the time or the frustration. UI
	Test Automation tools are in the same category. Personally, I think
	that in this day and age selling them is irresponsible. Developing
	them open-source? Well, let your conscience be your guide, but
	really, even though people can use them responsibly, they hardly
	ever do because these tools are sold with a dream, a very seductive
	and dangerous one. 
	</P>
	<H2 LANG="en-GB" CLASS="western">The Dream</H2>
	<P LANG="en-GB">Janet comes into work in the morning and she sits
	down at her super-duper testing console. She presses a button and
	the testing system springs to life. The application comes up all at
	once across ten monitors. Cursors move, selections are made
	(silently) and tests run against the user interface magically, as if
	some eager set of ghost elves took control, mischievously burrowing
	through the nooks and crannies of the application, running scripts
	to completion, and making little notes whenever there is a failure.
	Janet sits back in her chair, waiting for the elves to report back
	to her. She stirs her coffee gently. 
	</P>
	<H2 LANG="en-GB" CLASS="western">The Reality</H2>
	<P LANG="en-GB">Janet hasn&rsquo;t gone home yet. It&rsquo;s 2AM and
	she has to report completion of all her test cases at a meeting in
	the morning. She thinks she&rsquo;s past the last configuration
	issue but she&rsquo;s not sure. For the last hour, she&rsquo;s been
	trying to make sure that a particular button is pressed at step 14
	of her script, but quirky latency on the server is preventing it
	from happening consistently. Sadly, she has to run the script from
	the beginning each time. Oh, and five hours ago she discovered UI
	changes which invalidated 30% of the regression tests. Most of the
	changes were easy but she still has 12 cases to go and her 9AM
	meeting looms ahead of her. 
	</P>
	<P LANG="en-GB">This gap between the dream and the reality is not a
	matter of flawed execution, it&rsquo;s endemic. Here&rsquo;s the
	scoop. 
	</P>
	<H2 LANG="en-GB" CLASS="western">UI Test Automation Tools are
	Brittle</H2>
	<P LANG="en-GB">You might not think this is fair but it is, really.
	I haven&rsquo;t seen one of these tools yet which isn&rsquo;t
	susceptible to missed events or timing madness. It just happens. The
	fact of the matter is, it is hard to sit on the outside of an
	application an instrument it. It&rsquo;s a very technology sensitive
	problem. You need to hook into either the OS or the browser or both.
	Neither are ever really built from the ground up for that sort of
	access. 
	</P>
	<H2 LANG="en-GB" CLASS="western">UI Based Testing Is Not the
	Solution That Vendors Imply It Is</H2>
	<P LANG="en-GB">This is the big issue, the one which really hurts
	the industry. The fact of the matter is that UI based testing should
	be used for UIs: that&rsquo;s it. You should not be testing your
	full application end-to-end through a UI Testing tool. First of all,
	that sort of testing couples some of the most important tests in
	your system to one of the most volatile parts of it. It&rsquo;s easy
	for us to see business logic as volatile, but really, the UI is the
	thing which twists and ripples in the winds of change. When
	customers want new features, often those features involve new
	workflows. When usability experts discover better ways of models of
	interaction, an agile business seizes upon them and makes the
	changes&mdash;if they can. You&rsquo;d be surprised at the number of
	applications which continue to sport out of day user interfaces
	simply because the development organization is terrified of throwing
	away all of their regression tests which (by the way) go through the
	UI. Even if you&rsquo;re not a consultant like me, visiting teams
	and seeing their development processes, you can see hints from the
	outside. Think of every website or shrink-wrap application which has
	&ldquo;the same old workflow&rdquo; and a UI that has become more
	cluttered over the years. Often it&rsquo;s because of that lock-in. 
	</P>
	<H2 LANG="en-GB" CLASS="western">UI Based Testing Takes More Staff
	and Time Than You Expect</H2>
	<P LANG="en-GB">This, really, is the most common failure case. It&rsquo;s
	the case which explains the dust on the testing box&rsquo;s
	keyboard. Someone, usually disconnected from the development
	organization, decides that &ldquo;hey, we need to solve the testing
	problem. We have too many people doing manual testing. It&rsquo;s
	taking forever.&rdquo; So, they do their research, find a vendor
	with with a good licensing model and a good pitch and then they push
	it on the development organization. They are, of course, looking to
	reduce staff so when they realize that translating all of those
	manual tests to the tool is very labor-intensive, they are taken
	aback. But, of course, it is just a temporary cost, right? But, then
	it takes far longer than they expect. Remember Janet&rsquo;s story?
	It&rsquo;s really hard to catch up with a UI-Based testing tool.
	It&rsquo;s hard to even stay in place with one. Typically it takes a
	number of people to do UI-Based automated testing for a development
	team in sync with an iteration and worse, they&rsquo;ll always lag
	behind a bit because you can&rsquo;t really write UI-based tests
	ahead of time the way you can with FIT and other beneath-the-UI
	testing tools. From what I&rsquo;ve seen UI-based testing, done
	diligently, takes the effort of about one tester for every two to
	three developers. That&rsquo;s what it seems to cost amortized
	across all of the maintenance of UI-induced test breakage. Oh, and
	by the way, if think you are going to save labor using record and
	playback? Nope, you aren&rsquo;t. It doesn&rsquo;t work. 
	</P>
	<H2 LANG="en-GB" CLASS="western">Solutions</H2>
	<P LANG="en-GB">The fact of the matter is, you can use these tools
	effectively, but in a very narrow space. It&rsquo;s nice to be able
	to test the UI&mdash;by itself. However, this sort of thing <A HREF="http://web.archive.org/web/20120111204431/http://www.computer.org/portal/web/csdl/doi/10.1109/MS.2005.110">requires
	an architectural change</A>. 
	</P>
	<P LANG="en-GB">In general, UIs are too volatile for end-to-end
	testing. Teams that do it well, typically develop a small
	task-focused scripting layer and build tests on top if it so that
	the actual tests don&rsquo;t touch the UI directly. But, if they
	happen across that technique, they are lucky. Still, it isn&rsquo;t
	an ideal solution. You really want to be <I>below</I> the UI working
	against an API which exposes the business logic. And, because of
	that nearly mystical synergy between testability and good design,
	that API layer is often useful for many things other than testing. 
	</P>
	<H2 LANG="en-GB" CLASS="western">Conclusion/Challenge</H2>
	<P LANG="en-GB">I recognize that I&rsquo;ve been rather vicious in
	the this blog. If you develop these tools for a living, you might
	not think it&rsquo;s fair. But consider this. If you don&rsquo;t
	think I&rsquo;m being fair, take a look at how your tools are
	marketed. In particular, show me where the product literature
	discourages end-to-end testing through the tool. Otherwise, well,
	you know, you are probably developing snake-oil. 
	</P>
	<UL>
		<LI><P LANG="en-GB" STYLE="margin-bottom: 0cm">Posted in <A HREF="http://web.archive.org/web/20120111204431/http://blog.objectmentor.com/articles/category/michaels-musings">Michaels
		Musings</A> 
		</P>
		<LI><P LANG="en-GB">Meta <A HREF="http://web.archive.org/web/20120111204431/http://blog.objectmentor.com/articles/2010/01/04/ui-test-automation-tools-are-snake-oil#comments">365
		comments</A>, <A HREF="http://web.archive.org/web/20120111204431/http://blog.objectmentor.com/articles/2010/01/04/ui-test-automation-tools-are-snake-oil">permalink</A>,
		<A HREF="http://web.archive.org/web/20120111204431/http://blog.objectmentor.com/xml/rss/article/9036/feed.xml">rss</A>,
		<A HREF="http://web.archive.org/web/20120111204431/http://blog.objectmentor.com/xml/atom/article/9036/feed.xml">atom</A>
				</P>
	</UL>
</DIV>
<P LANG="en-GB"><BR><BR>
</P>
</BODY>
</HTML>